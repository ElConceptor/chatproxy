<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test ChatProxy - Qualtrics ChatGPT Proxy</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ü§ñ Test ChatProxy</h1>
            <p class="subtitle">Interface de test pour le proxy Qualtrics ‚Üí ChatGPT</p>
        </header>

        <div class="status-bar" id="statusBar">
            <span class="status-indicator" id="statusIndicator"></span>
            <span id="statusText">V√©rification de la connexion...</span>
        </div>

        <div class="chat-container">
            <div class="config-panel">
                <h3>‚öôÔ∏è Configuration</h3>
                <div class="form-group">
                    <label for="apiUrl">URL du Proxy:</label>
                    <input type="text" id="apiUrl" value="http://localhost:3000/api/chat" placeholder="http://localhost:3000/api/chat">
                </div>
                <div class="form-group">
                    <label for="systemPrompt">Prompt Syst√®me (optionnel):</label>
                    <textarea id="systemPrompt" rows="2" placeholder="Vous √™tes un assistant utile et professionnel.">Vous √™tes un assistant utile et professionnel pour un formulaire Qualtrics.</textarea>
                </div>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="message system-message">
                    <div class="message-content">
                        <strong>Syst√®me:</strong> Bienvenue ! Entrez un message ci-dessous pour tester le proxy ChatGPT.
                    </div>
                </div>
            </div>

            <div class="chat-input-container">
                <div class="input-group">
                    <textarea 
                        id="messageInput" 
                        placeholder="Tapez votre message ici..." 
                        rows="3"
                    ></textarea>
                    <button id="sendButton" class="send-button">
                        <span>Envoyer</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="22" y1="2" x2="11" y2="13"></line>
                            <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                        </svg>
                    </button>
                </div>
                <div class="input-actions">
                    <button id="clearButton" class="secondary-button">Effacer l'historique</button>
                    <button id="testConnectionButton" class="secondary-button">Tester la connexion</button>
                </div>
            </div>
        </div>

        <div class="info-panel" id="infoPanel" style="display: none;">
            <h3>üìä Informations de la r√©ponse</h3>
            <pre id="responseInfo"></pre>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

